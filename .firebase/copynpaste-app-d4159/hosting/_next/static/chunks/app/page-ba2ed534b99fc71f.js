(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{3078:function(e,a,t){Promise.resolve().then(t.bind(t,5857))},5857:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return es}});var r=t(7437),s=t(2265),i=t(7053),n=t(535),l=t(4508);let o=(0,n.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),d=s.forwardRef((e,a)=>{let{className:t,variant:s,size:n,asChild:d=!1,...c}=e,u=d?i.g7:"button";return(0,r.jsx)(u,{className:(0,l.cn)(o({variant:s,size:n,className:t})),ref:a,...c})});d.displayName="Button";var c=t(5153),u=t(5683);function m(){let[e,a]=(0,s.useState)(!1),{toast:t}=(0,c.pm)(),{user:i,loginWithGoogle:n,logout:l}=(0,u.a)(),o=async()=>{try{a(!0),await n(),t({title:"Sesi\xf3n iniciada",description:"Has iniciado sesi\xf3n correctamente con Google"})}catch(e){t({title:"Error al iniciar sesi\xf3n",description:e.message||"Ha ocurrido un error al iniciar sesi\xf3n con Google",variant:"destructive"}),console.error(e)}finally{a(!1)}},m=async()=>{try{a(!0),await l(),t({title:"Sesi\xf3n cerrada",description:"Has cerrado sesi\xf3n correctamente"})}catch(e){t({title:"Error al cerrar sesi\xf3n",description:e.message||"Ha ocurrido un error al cerrar sesi\xf3n",variant:"destructive"}),console.error(e)}finally{a(!1)}};return i?(0,r.jsx)(d,{variant:"outline",onClick:m,disabled:e,className:"dark:text-white dark:border-gray-600",children:"Cerrar sesi\xf3n"}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d,{variant:"outline",onClick:o,disabled:e,className:"dark:text-white dark:border-gray-600",children:"Iniciar sesi\xf3n"}),(0,r.jsx)(d,{onClick:o,disabled:e,className:"dark:bg-gray-700 dark:hover:bg-gray-600",children:"Registrarse"})]})}var h=t(1312);let f=h.fC,x=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)(h.aV,{ref:a,className:(0,l.cn)("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",t),...s})});x.displayName=h.aV.displayName;let p=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)(h.xz,{ref:a,className:(0,l.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",t),...s})});p.displayName=h.xz.displayName;let g=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)(h.VY,{ref:a,className:(0,l.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...s})});g.displayName=h.VY.displayName;let y=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("textarea",{className:(0,l.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:a,...s})});y.displayName="Textarea";let v=s.forwardRef((e,a)=>{let{className:t,type:s,...i}=e;return(0,r.jsx)("input",{type:s,className:(0,l.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:a,...i})});v.displayName="Input";var w=t(9397),b=t(5978),j=t(1949);let N=async(e,a)=>{try{return(await (0,b.ET)((0,b.hJ)(j.db,e),{...a,createdAt:(0,b.Bt)(),updatedAt:(0,b.Bt)()})).id}catch(e){throw console.error("Error al a\xf1adir documento:",e),e}},k=async(e,a,t)=>{try{let r=(0,b.JU)(j.db,e,a);return await (0,b.r7)(r,{...t,updatedAt:(0,b.Bt)()}),!0}catch(e){throw console.error("Error al actualizar documento:",e),e}},E=async(e,a)=>{try{let t=(0,b.JU)(j.db,e,a);return await (0,b.oe)(t),!0}catch(e){throw console.error("Error al eliminar documento:",e),e}},A=async function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];try{let r=(0,b.IO)((0,b.hJ)(j.db,e));a.length>0&&a.forEach(e=>{r=(0,b.IO)(r,(0,b.ar)(e.field,e.operator,e.value))}),t.length>0&&t.forEach(e=>{r=(0,b.IO)(r,(0,b.Xo)(e.field,e.direction))});let s=await (0,b.PL)(r),i=[];return s.forEach(e=>{i.push({id:e.id,...e.data()})}),i}catch(e){throw console.error("Error al obtener documentos:",e),e}};var S=t(62);let T=async(e,a)=>{try{let t=(0,S.iH)(j.tO,a),r=await (0,S.KV)(t,e),s=await (0,S.Jt)(r.ref);return{path:a,downloadURL:s,name:e.name,type:e.type,size:e.size}}catch(e){throw console.error("Error al subir archivo:",e),e}},I=async e=>{try{let a=(0,S.iH)(j.tO,e);return await (0,S.oq)(a),!0}catch(e){throw console.error("Error al eliminar archivo:",e),e}};function C(e){let[a,t]=(0,s.useState)([]),[r,i]=(0,s.useState)(!0);(0,s.useEffect)(()=>{if(!e){t([]),i(!1);return}(async()=>{try{i(!0);let a=(await A("items",[{field:"userId",operator:"==",value:e}],[{field:"createdAt",direction:"desc"}])).map(e=>{var a,t;return{...e,createdAt:(null===(a=e.createdAt)||void 0===a?void 0:a.toDate())||new Date,updatedAt:(null===(t=e.updatedAt)||void 0===t?void 0:t.toDate())||new Date}}).filter(a=>a.userId===e);t(a)}catch(e){console.error("Error al cargar los items:",e)}finally{i(!1)}})()},[e]);let n=async(r,s)=>{if(!e)throw Error("Usuario no autenticado");try{let i=a.find(e=>e.id===r);if(!i||i.userId!==e)throw Error("No tienes permiso para actualizar este elemento");await k("items",r,s),t(e=>e.map(e=>e.id===r?{...e,...s,updatedAt:new Date}:e))}catch(e){throw console.error("Error al actualizar item:",e),e}},l=async r=>{if(!e)throw Error("Usuario no autenticado");try{let s=a.find(e=>e.id===r);if(!s||s.userId!==e)throw Error("No tienes permiso para eliminar este elemento");(null==s?void 0:s.type)==="file"&&s.filePath&&await I(s.filePath),await E("items",r),t(e=>e.filter(e=>e.id!==r))}catch(e){throw console.error("Error al eliminar item:",e),e}};return{items:a,loading:r,addItem:async a=>{if(!e)throw Error("Usuario no autenticado");try{let i={};if("file"===a.type&&a.file){let t=a.file,r="users/".concat(e,"/files/").concat(Date.now(),"_").concat(t.name),s=await T(t,r);i={fileUrl:s.downloadURL,filePath:s.path}}let n={type:a.type||"text",content:a.content||"",userId:e,fileName:a.fileName||"",fileType:a.fileType||"",fileSize:a.fileSize||0,favorite:a.favorite||!1,...i},l=await N("items",n),o=await A("items",[{field:"userId",operator:"==",value:e},{field:"__name__",operator:"==",value:l}]);if(o.length>0){var r,s;let e={...o[0],id:l,createdAt:(null===(r=o[0].createdAt)||void 0===r?void 0:r.toDate())||new Date,updatedAt:(null===(s=o[0].updatedAt)||void 0===s?void 0:s.toDate())||new Date};t(a=>[e,...a])}return l}catch(e){throw console.error("Error al a\xf1adir item:",e),e}},updateItem:n,deleteItem:l}}function z(){let{toast:e}=(0,c.pm)(),{user:a}=(0,u.a)(),t=(null==a?void 0:a.uid)||"",{addItem:i}=C(t),[n,l]=(0,s.useState)("text"),[o,m]=(0,s.useState)(""),[h,b]=(0,s.useState)(""),[j,N]=(0,s.useState)(!1),k=(0,s.useRef)(null),E=!!t,A=async()=>{if(o.trim()&&E)try{N(!0),await i({type:"text",content:o,userId:t}),m(""),e({title:"Texto guardado",description:"El texto ha sido guardado correctamente"})}catch(a){e({title:"Error al guardar",description:"Ha ocurrido un error al guardar el texto",variant:"destructive"}),console.error(a)}finally{N(!1)}},S=async()=>{if(h.trim()&&E)try{N(!0),await i({type:"url",content:h,userId:t}),b(""),e({title:"Enlace guardado",description:"El enlace ha sido guardado correctamente"})}catch(a){e({title:"Error al guardar",description:"Ha ocurrido un error al guardar el enlace",variant:"destructive"}),console.error(a)}finally{N(!1)}},T=async a=>{if(a.target.files&&a.target.files[0]&&E)try{N(!0);let r=a.target.files[0];await i({type:"file",file:r,fileName:r.name,fileType:r.type,fileSize:r.size,userId:t}),k.current&&(k.current.value=""),e({title:"Archivo guardado",description:"El archivo ha sido guardado correctamente"})}catch(a){e({title:"Error al guardar",description:"Ha ocurrido un error al guardar el archivo",variant:"destructive"}),console.error(a)}finally{N(!1)}};return E?(0,r.jsx)("div",{className:"p-4",children:(0,r.jsx)("div",{className:"bg-gray-100 dark:bg-gray-700 rounded-xl shadow-md p-3 mb-2",children:(0,r.jsxs)(f,{value:n,onValueChange:e=>l(e),children:[(0,r.jsxs)(x,{className:"grid grid-cols-2 w-full dark:bg-gray-800",children:[(0,r.jsx)(p,{value:"text",className:"dark:text-gray-200 dark:data-[state=active]:bg-gray-900",children:"Texto"}),(0,r.jsx)(p,{value:"file",className:"dark:text-gray-200 dark:data-[state=active]:bg-gray-900",children:"Archivo"})]}),(0,r.jsxs)(g,{value:"text",className:"p-4",children:[(0,r.jsx)(y,{placeholder:"Ingresa tu texto aqu\xed",value:o,onChange:e=>m(e.target.value),className:"min-h-[100px] mb-2 dark:bg-gray-800 dark:text-white dark:border-gray-600"}),(0,r.jsx)("div",{className:"mt-2",children:(0,r.jsx)(v,{type:"url",placeholder:"O ingresa un enlace",value:h,onChange:e=>b(e.target.value),className:"mb-2 dark:bg-gray-800 dark:text-white dark:border-gray-600"})}),(0,r.jsxs)(d,{className:"w-full mt-2 bg-gray-800 hover:bg-gray-700 dark:bg-gray-900 dark:hover:bg-gray-800",onClick:h?S:A,disabled:j||!o&&!h,children:[(0,r.jsx)(w.Z,{className:"mr-2 h-4 w-4"})," Agregar"]})]}),(0,r.jsx)(g,{value:"file",className:"p-4",children:(0,r.jsxs)("div",{className:"border-2 border-dashed rounded-md p-6 text-center dark:border-gray-600 dark:text-white",children:[(0,r.jsx)(v,{ref:k,type:"file",className:"hidden",onChange:T,id:"file-upload"}),(0,r.jsxs)("label",{htmlFor:"file-upload",className:"cursor-pointer flex flex-col items-center justify-center",children:[(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mb-2",children:[(0,r.jsx)("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),(0,r.jsx)("polyline",{points:"17 8 12 3 7 8"}),(0,r.jsx)("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),(0,r.jsx)("span",{className:"text-sm font-medium",children:"Haz clic para seleccionar un archivo"}),(0,r.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"O arrastra y suelta aqu\xed"})]})]})})]})})}):(0,r.jsx)("div",{className:"p-4",children:(0,r.jsxs)("div",{className:"bg-gray-100 dark:bg-gray-700 rounded-xl shadow-md p-6 text-center",children:[(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:"Debes iniciar sesi\xf3n para guardar elementos."}),(0,r.jsx)("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Tus datos se guardar\xe1n de forma segura y solo t\xfa podr\xe1s acceder a ellos."})]})})}var _=t(8736),D=t(3113),O=t(8335),Z=t(6595),R=t(5868),H=t(8867),M=t(2735),U=t(7413);function V(e){var a;let{item:t}=e,{toast:i}=(0,c.pm)(),{updateItem:n,deleteItem:o}=C(t.userId),[u,m]=(0,s.useState)(!1),[h,f]=(0,s.useState)(t.content||""),[x,p]=(0,s.useState)(!1),[g,v]=(0,s.useState)(t.favorite||!1),w=async()=>{try{await navigator.clipboard.writeText(t.content||t.fileUrl||""),i({title:"Copiado al portapapeles",description:"El contenido ha sido copiado al portapapeles"})}catch(e){i({title:"Error al copiar",description:"No se pudo copiar al portapapeles",variant:"destructive"})}},b=async()=>{try{p(!0),await o(t.id),i({title:"Elemento eliminado",description:"El elemento ha sido eliminado correctamente"})}catch(e){i({title:"Error al eliminar",description:"Ha ocurrido un error al eliminar el elemento",variant:"destructive"})}finally{p(!1)}},j=async()=>{try{p(!0),await n(t.id,{content:h}),m(!1),i({title:"Elemento actualizado",description:"El elemento ha sido actualizado correctamente"})}catch(e){i({title:"Error al actualizar",description:"Ha ocurrido un error al actualizar el elemento",variant:"destructive"})}finally{p(!1)}},N=async()=>{try{p(!0);let e=!g;await n(t.id,{favorite:e}),v(e),i({title:e?"A\xf1adido a favoritos":"Eliminado de favoritos",description:e?"El elemento ha sido a\xf1adido a favoritos":"El elemento ha sido eliminado de favoritos"})}catch(e){i({title:"Error al actualizar favoritos",description:"Ha ocurrido un error al actualizar el estado de favoritos",variant:"destructive"})}finally{p(!1)}};return(0,r.jsx)("div",{className:"border rounded-md p-4 bg-white dark:bg-gray-800 dark:border-gray-700 shadow-sm",children:(0,r.jsxs)("div",{className:"flex items-start gap-3",children:[(0,r.jsx)("div",{className:"mt-1",children:(()=>{switch(t.type){case"text":default:return(0,r.jsx)(_.Z,{className:"h-5 w-5 dark:text-white"});case"file":var e;if(null===(e=t.fileType)||void 0===e?void 0:e.startsWith("image/"))return(0,r.jsx)(D.Z,{className:"h-5 w-5 dark:text-white"});return(0,r.jsx)(_.Z,{className:"h-5 w-5 dark:text-white"});case"url":return(0,r.jsx)(O.Z,{className:"h-5 w-5 dark:text-white"})}})()}),(0,r.jsxs)("div",{className:"flex-1",children:[u?(0,r.jsxs)("div",{className:"mt-2",children:[(0,r.jsx)(y,{value:h,onChange:e=>f(e.target.value),className:"mb-2 dark:bg-gray-700 dark:text-white dark:border-gray-600"}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(d,{size:"sm",onClick:j,disabled:x,children:"Guardar"}),(0,r.jsx)(d,{size:"sm",variant:"outline",onClick:()=>{m(!1),f(t.content||"")},disabled:x,className:"dark:text-white dark:border-gray-600",children:"Cancelar"})]})]}):"url"===t.type?(0,r.jsx)("a",{href:t.content,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline dark:text-blue-400",children:t.content}):"file"===t.type&&(null===(a=t.fileType)||void 0===a?void 0:a.startsWith("image/"))&&t.fileUrl?(0,r.jsxs)("div",{className:"mt-2",children:[(0,r.jsx)("img",{src:t.fileUrl||"/placeholder.svg",alt:t.fileName||"Imagen",className:"max-h-40 rounded-md"}),(0,r.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:t.fileName})]}):(0,r.jsx)("p",{className:"dark:text-white",children:t.content}),(0,r.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:["Creado: ",(0,l.p)(t.createdAt),t.updatedAt&&("object"==typeof t.updatedAt&&t.updatedAt instanceof Date&&"object"==typeof t.createdAt&&t.createdAt instanceof Date&&t.updatedAt.getTime()!==t.createdAt.getTime()?(0,r.jsxs)(r.Fragment,{children:[" • Modificado: ",(0,l.p)(t.updatedAt)]}):t.updatedAt!==t.createdAt&&(0,r.jsxs)(r.Fragment,{children:[" • Modificado: ",(0,l.p)(t.updatedAt)]}))]})]}),(0,r.jsxs)("div",{className:"flex gap-1",children:[(0,r.jsxs)(d,{size:"icon",variant:"ghost",onClick:N,className:"".concat(g?"text-yellow-500 dark:text-yellow-400":"dark:text-gray-300"," dark:hover:bg-gray-700"),children:[(0,r.jsx)(Z.Z,{className:"h-4 w-4",fill:g?"currentColor":"none"}),(0,r.jsx)("span",{className:"sr-only",children:g?"Quitar de favoritos":"A\xf1adir a favoritos"})]}),!u&&"file"!==t.type&&(0,r.jsxs)(d,{size:"icon",variant:"ghost",onClick:()=>m(!0),className:"dark:text-gray-300 dark:hover:bg-gray-700",children:[(0,r.jsx)(R.Z,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Editar"})]}),(0,r.jsxs)(d,{size:"icon",variant:"ghost",onClick:w,className:"dark:text-gray-300 dark:hover:bg-gray-700",children:[(0,r.jsx)(H.Z,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Copiar"})]}),"file"===t.type&&(0,r.jsxs)(d,{size:"icon",variant:"ghost",onClick:()=>{t.fileUrl&&window.open(t.fileUrl,"_blank")},className:"dark:text-gray-300 dark:hover:bg-gray-700",children:[(0,r.jsx)(M.Z,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Descargar"})]}),(0,r.jsxs)(d,{size:"icon",variant:"ghost",onClick:b,disabled:x,className:"dark:text-gray-300 dark:hover:bg-gray-700",children:[(0,r.jsx)(U.Z,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Eliminar"})]})]})]})})}var F=t(3755),P=t(875),G=t(2135),J=t(401);let B=F.fC;F.ZA;let L=F.B4,W=s.forwardRef((e,a)=>{let{className:t,children:s,...i}=e;return(0,r.jsxs)(F.xz,{ref:a,className:(0,l.cn)("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...i,children:[s,(0,r.jsx)(F.JO,{asChild:!0,children:(0,r.jsx)(P.Z,{className:"h-4 w-4 opacity-50"})})]})});W.displayName=F.xz.displayName;let Y=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)(F.u_,{ref:a,className:(0,l.cn)("flex cursor-default items-center justify-center py-1",t),...s,children:(0,r.jsx)(G.Z,{className:"h-4 w-4"})})});Y.displayName=F.u_.displayName;let q=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)(F.$G,{ref:a,className:(0,l.cn)("flex cursor-default items-center justify-center py-1",t),...s,children:(0,r.jsx)(P.Z,{className:"h-4 w-4"})})});q.displayName=F.$G.displayName;let X=s.forwardRef((e,a)=>{let{className:t,children:s,position:i="popper",...n}=e;return(0,r.jsx)(F.h_,{children:(0,r.jsxs)(F.VY,{ref:a,className:(0,l.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:i,...n,children:[(0,r.jsx)(Y,{}),(0,r.jsx)(F.l_,{className:(0,l.cn)("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),(0,r.jsx)(q,{})]})})});X.displayName=F.VY.displayName,s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)(F.__,{ref:a,className:(0,l.cn)("px-2 py-1.5 text-sm font-semibold",t),...s})}).displayName=F.__.displayName;let K=s.forwardRef((e,a)=>{let{className:t,children:s,...i}=e;return(0,r.jsxs)(F.ck,{ref:a,className:(0,l.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...i,children:[(0,r.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(F.wU,{children:(0,r.jsx)(J.Z,{className:"h-4 w-4"})})}),(0,r.jsx)(F.eT,{children:s})]})});function $(e){let{className:a,...t}=e;return(0,r.jsx)("div",{className:(0,l.cn)("animate-pulse rounded-md bg-primary/10",a),...t})}function Q(e){let{filter:a="all"}=e,{user:t}=(0,u.a)(),i=(null==t?void 0:t.uid)||"",{items:n,loading:l}=C(i),[o,d]=(0,s.useState)("newest"),[c,m]=(0,s.useState)("all"),h=!!i,f=n.filter(e=>e.userId===i&&("all"===c||e.type===c)).filter(e=>"all"===a||!0===e.favorite).sort((e,a)=>"newest"===o?a.createdAt.getTime()-e.createdAt.getTime():"oldest"===o?e.createdAt.getTime()-a.createdAt.getTime():a.updatedAt.getTime()-e.updatedAt.getTime());return l?(0,r.jsxs)("div",{className:"p-4",children:[(0,r.jsx)("div",{className:"flex justify-end mb-4",children:(0,r.jsx)($,{className:"h-10 w-36"})}),[1,2,3].map(e=>(0,r.jsx)($,{className:"h-24 w-full mb-4"},e))]}):h?(0,r.jsx)("div",{className:"p-4",children:(0,r.jsxs)("div",{className:"bg-gray-100 dark:bg-gray-700 rounded-xl shadow-md p-3 mb-2",children:[(0,r.jsxs)("div",{className:"flex justify-between mb-4",children:[(0,r.jsxs)(B,{value:c,onValueChange:e=>m(e),children:[(0,r.jsx)(W,{className:"w-[180px] dark:bg-gray-800 dark:text-white dark:border-gray-600",children:(0,r.jsx)(L,{placeholder:"Todos los tipos"})}),(0,r.jsxs)(X,{className:"dark:bg-gray-800 dark:text-white dark:border-gray-700",children:[(0,r.jsx)(K,{value:"all",children:"Todos los tipos"}),(0,r.jsx)(K,{value:"text",children:"Texto"}),(0,r.jsx)(K,{value:"url",children:"Enlaces"}),(0,r.jsx)(K,{value:"file",children:"Archivos"})]})]}),(0,r.jsxs)(B,{value:o,onValueChange:e=>d(e),children:[(0,r.jsx)(W,{className:"w-[180px] dark:bg-gray-800 dark:text-white dark:border-gray-600",children:(0,r.jsx)(L,{placeholder:"M\xe1s reciente"})}),(0,r.jsxs)(X,{className:"dark:bg-gray-800 dark:text-white dark:border-gray-700",children:[(0,r.jsx)(K,{value:"newest",children:"M\xe1s reciente"}),(0,r.jsx)(K,{value:"oldest",children:"M\xe1s antiguo"}),(0,r.jsx)(K,{value:"modified",children:"\xdaltima modificaci\xf3n"})]})]})]}),0===f.length?(0,r.jsx)("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No hay elementos guardados"}):(0,r.jsx)("div",{className:"space-y-4",children:f.map(e=>(0,r.jsx)(V,{item:e},e.id))})]})}):(0,r.jsx)("div",{className:"p-4",children:(0,r.jsx)("div",{className:"bg-gray-100 dark:bg-gray-700 rounded-xl shadow-md p-6 text-center",children:(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"Inicia sesi\xf3n para ver tus elementos guardados."})})})}K.displayName=F.ck.displayName,s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)(F.Z0,{ref:a,className:(0,l.cn)("-mx-1 my-1 h-px bg-muted",t),...s})}).displayName=F.Z0.displayName;var ee=t(5929),ea=t(7226);function et(e){let{onToggle:a,isDark:t}=e;return(0,r.jsxs)(d,{variant:"outline",size:"icon",onClick:a,className:"dark:text-white dark:border-gray-600",children:[(0,r.jsx)("span",{className:"sr-only",children:"Cambiar tema"}),t?(0,r.jsx)(ee.Z,{className:"h-5 w-5"}):(0,r.jsx)(ea.Z,{className:"h-5 w-5"})]})}var er=t(201);function es(){let[e,a]=(0,s.useState)("all"),[t,i]=(0,s.useState)(!1),{user:n}=(0,u.a)();return(0,r.jsx)("main",{className:"min-h-screen ".concat(t?"dark bg-gray-900":"bg-gray-100"),children:(0,r.jsxs)("div",{className:"container mx-auto p-4",children:[(0,r.jsxs)("header",{className:"flex justify-between items-center mb-8",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(er.Z,{className:"h-8 w-8 mr-2 ".concat(t?"text-white":"text-gray-900")}),(0,r.jsx)("h1",{className:"text-2xl font-bold ".concat(t?"text-white":"text-gray-900"),children:"Copy & Paste App"})]}),(0,r.jsxs)("div",{className:"flex space-x-2 items-center",children:[(0,r.jsx)(et,{onToggle:()=>{i(!t)},isDark:t}),(0,r.jsx)(m,{})]})]}),n?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(z,{}),(0,r.jsx)("div",{className:"mt-8",children:(0,r.jsxs)(f,{defaultValue:"all",className:"w-full",children:[(0,r.jsxs)(x,{className:"mb-4",children:[(0,r.jsx)(p,{value:"all",onClick:()=>a("all"),className:"all"===e?"bg-primary text-primary-foreground":"",children:"Todos"}),(0,r.jsx)(p,{value:"favorites",onClick:()=>a("favorites"),className:"favorites"===e?"bg-primary text-primary-foreground":"",children:"Favoritos"})]}),(0,r.jsx)(Q,{filter:e})]})})]}):(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center h-[60vh]",children:[(0,r.jsxs)("div",{className:"flex items-center mb-4",children:[(0,r.jsx)(er.Z,{className:"h-16 w-16 mr-3 ".concat(t?"text-white":"text-gray-900")}),(0,r.jsx)("h2",{className:"text-3xl font-bold ".concat(t?"text-white":"text-gray-900"),children:"Copy & Paste App"})]}),(0,r.jsx)("p",{className:"text-center text-xl mb-8 max-w-md ".concat(t?"text-gray-300":"text-gray-600"),children:"Tu espacio personal para guardar y acceder a todo lo importante con un solo clic."}),(0,r.jsx)("p",{className:"text-center mb-8 max-w-lg ".concat(t?"text-gray-400":"text-gray-700"),children:"Guarda fragmentos de texto, c\xf3digo, enlaces y archivos para acceder a ellos desde cualquier dispositivo. Inicia sesi\xf3n para comenzar a organizar tu informaci\xf3n."}),(0,r.jsx)("div",{className:"flex space-x-4",children:(0,r.jsx)(m,{})})]})]})})}},5153:function(e,a,t){"use strict";t.d(a,{pm:function(){return m}});var r=t(2265);let s=0,i=new Map,n=e=>{if(i.has(e))return;let a=setTimeout(()=>{i.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);i.set(e,a)},l=(e,a)=>{switch(a.type){case"ADD_TOAST":return{...e,toasts:[a.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===a.toast.id?{...e,...a.toast}:e)};case"DISMISS_TOAST":{let{toastId:t}=a;return t?n(t):e.toasts.forEach(e=>{n(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===t||void 0===t?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===a.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==a.toastId)}}},o=[],d={toasts:[]};function c(e){d=l(d,e),o.forEach(e=>{e(d)})}function u(e){let{...a}=e,t=(s=(s+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>c({type:"DISMISS_TOAST",toastId:t});return c({type:"ADD_TOAST",toast:{...a,id:t,open:!0,onOpenChange:e=>{e||r()}}}),{id:t,dismiss:r,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function m(){let[e,a]=r.useState(d);return r.useEffect(()=>(o.push(a),()=>{let e=o.indexOf(a);e>-1&&o.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},5683:function(e,a,t){"use strict";t.d(a,{AuthProvider:function(){return f},a:function(){return x}});var r=t(7437),s=t(2265),i=t(3301),n=t(1949);let l=new i.hJ,o=async(e,a)=>{try{return(await (0,i.Xb)(n.I8,e,a)).user}catch(e){throw console.error("Error al registrar usuario:",e),e}},d=async(e,a)=>{try{return(await (0,i.e5)(n.I8,e,a)).user}catch(e){throw console.error("Error al iniciar sesi\xf3n:",e),e}},c=async()=>{try{return(await (0,i.rh)(n.I8,l)).user}catch(e){throw console.error("Error al iniciar sesi\xf3n con Google:",e),e}},u=async()=>{try{return await (0,i.w7)(n.I8),!0}catch(e){throw console.error("Error al cerrar sesi\xf3n:",e),e}},m=e=>(0,i.Aj)(n.I8,e),h=(0,s.createContext)(void 0);function f(e){let{children:a}=e,[t,i]=(0,s.useState)(null),[n,l]=(0,s.useState)(!0);(0,s.useEffect)(()=>{let e=m(e=>{i(e),l(!1)});return()=>e()},[]);let f=async(e,a)=>await d(e,a),x=async()=>await c(),p=async()=>await u(),g=async(e,a)=>await o(e,a);return(0,r.jsx)(h.Provider,{value:{user:t,loading:n,login:f,loginWithGoogle:x,logout:p,register:g},children:a})}function x(){let e=(0,s.useContext)(h);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},1949:function(e,a,t){"use strict";let r;t.d(a,{I8:function(){return c},db:function(){return d},tO:function(){return u}});var s=t(738),i=t(6834),n=t(5978),l=t(3301),o=t(62);(0,s.C6)().length||(r=(0,s.ZF)({apiKey:"AIzaSyCp1X8R2dp8L-W0jVJsw6LyNE5uRbl1zww",authDomain:"copynpaste-app-d4159.firebaseapp.com",projectId:"copynpaste-app-d4159",storageBucket:"copynpaste-app-d4159.firebasestorage.app",messagingSenderId:"151064134430",appId:"1:151064134430:web:23529907d89dbc990d7f0f",measurementId:"G-HMH99940H0"}));let d=(0,n.ad)(),c=(0,l.v0)(),u=(0,o.cF)();(0,i.IH)(r)},4508:function(e,a,t){"use strict";t.d(a,{cn:function(){return n},p:function(){return i}});var r=t(1994),s=t(3335);function i(e){try{let a=e instanceof Date?e:new Date(e);if(isNaN(a.getTime()))return"Fecha inv\xe1lida";let t=a.getDate().toString().padStart(2,"0"),r=(a.getMonth()+1).toString().padStart(2,"0"),s=a.getFullYear().toString().slice(-2);return"".concat(t,"/").concat(r,"/").concat(s)}catch(e){return console.error("Error al formatear fecha:",e),"Fecha inv\xe1lida"}}function n(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];return(0,s.m6)((0,r.W)(a))}}},function(e){e.O(0,[358,657,987,777,971,117,744],function(){return e(e.s=3078)}),_N_E=e.O()}]);